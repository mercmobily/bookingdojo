
define([
  "dojo/_base/declare",

  'dijit/_WidgetBase',
  'dijit/layout/ContentPane',
  "dijit/_TemplatedMixin",
  "dijit/_WidgetsInTemplateMixin",
  'dijit/layout/TabContainer',
  'dijit/_Container',
  'dijit/layout/_ContentPaneResizeMixin',

  "hotplate/hotDojoWidgets/EditingWidget",
  "hotplate/hotDojoStores/stores",
  "hotplate/hotDojoGlobals/globals",

   ], function(
     declare

     , _WidgetBase
     , ContentPane
     , _TemplatedMixin
     , _WidgetsInTemplateMixin
     , TabContainer
     , _Container
     ,  _ContentPaneResizeMixin

     , EditingWidget
     , stores

     , globals
 ){


  return declare('hotplate/bd/UserConfig', [ EditingWidget ], {

    widgetsInTemplate: true,

    templateString: jade.compile( '' +
      'div\n' +
      '  form( data-dojo-type="dijit/form/Form", data-dojo-attach-point="formWidget", method="POST")\n' +
      '    .box\n'+
      '      p.boxTitle User information\n' +

      '      .inputField( style="display:inline-block; margin-right:30px")\n' +
      '        label( for="${id}_Name") Your name\n' +
      '        input(  id="${id}_Name", name="name", data-dojo-type="dijit/form/ValidationTextBox", style="width:10em;", maxlength="40", data-dojo-props="" )\n' + 
      '      .inputField( style="display:inline-block;")\n' +
      '        label( for="${id}_Surname") Last Name\n' +
      '        input(  id="${id}_Surname", name="surname", data-dojo-type="dijit/form/ValidationTextBox", style="width:40em", maxlength="40", data-dojo-props="" )\n' +

      '      .inputField\n' +
      '        label( for="${id}_Email) Email\n' +
      '        input(  id="${id}_Email", name="email", data-dojo-type="dijit/form/ValidationTextBox", style="width:30em", maxlength="80", name="email", data-dojo-props="validatorr:sharedFunctions.hotCoreCommonValidators.email, required:true, invalidMessage:sharedFunctions.hotCoreCommonValidators.email(false)")\n' +

      '    input.formSubmit( type="submit", data-dojo-attach-point="buttonWidget", data-dojo-type="hotplate/hotDojoWidgets/BusyButton", label="Update")\n' +
      '')(),

    constructor: function(params){

      var self = this;

      self.storeName = 'userConfig';
      self.store = stores( 'userConfig', { workspaceId: globals.workspaceId } );

    },

    // storeFields: { workspaceId: globals.workspaceId },
    recordId: vars['hotCoreStoreConfig']['configStoreRecords'].userConfig._id,
  }); // declare('hotplate/bd/UserConfig'


 return UserConfig;
});


