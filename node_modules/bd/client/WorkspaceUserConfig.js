
define([
  "dojo/_base/declare",

  'dijit/_WidgetBase',
  'dijit/layout/ContentPane',
  "dijit/_TemplatedMixin",
  "dijit/_WidgetsInTemplateMixin",
  'dijit/layout/TabContainer',
  'dijit/_Container',
  'dijit/layout/_ContentPaneResizeMixin',

  "hotplate/hotDojoWidgets/EditingWidget",
  "hotplate/hotDojoStores/stores",

  "hotplate/hotDojoGlobals/globals",

   ], function(
     declare

     , _WidgetBase
     , ContentPane
     , _TemplatedMixin
     , _WidgetsInTemplateMixin
     , TabContainer
     , _Container
     ,  _ContentPaneResizeMixin

     , EditingWidget
     , stores

     , globals
 ){


  /*
  var WorkspaceUserConfigTabContainer = declare('hotplate/bd/WorkspaceUserConfigTabContainer', [ _WidgetBase, _Container,  _ContentPaneResizeMixin, _TemplatedMixin, _WidgetsInTemplateMixin ], {

    widgetsInTemplate: true,

    templateString: jade.compile('' +
      '.configSection\n' +
      '  div( data-dojo-type="dijit/layout/ContentPane")\n' +
      '    div( data-dojo-type="dijit/layout/TabContainer", data-dojo-props="tabPosition: \'top\'")\n' +
      '      div( data-dojo-type="hotplate/bd/WorkspaceUserConfigGeneral", data-dojo-props="title:\'General\'")\n' + 
      '')(),
  });
  */

  return declare('hotplate/bd/WorkspaceUserConfig', [ EditingWidget ], {

    templateString: jade.compile('' +
    'div\n'+
    '  form( data-dojo-type="dijit/form/Form", data-dojo-attach-point="formWidget", method="POST")\n'+
    '    .box\n'+
    '      p.boxTitle User Information\n'+
    '      .inputField\n'+
    '        label( for="${id}_LocalEmail") Email\n'+
    '        input(  id="${id}_LocalEmail", name="localEmail", data-dojo-type="dijit/form/ValidationTextBox", style="width:40em", maxlength="80", data-dojo-props="validator:sharedFunctions.hotCoreCommonValidators.email, required:true, invalidMessage:sharedFunctions.hotCoreCommonValidators.email(false)")\n'+
    '      input.formSubmit( type="submit", data-dojo-attach-point="buttonWidget", data-dojo-type="hotplate/hotDojoWidgets/BusyButton", label="Update")\n'+
    '')(),

    storeName: 'workspaceUserConfig',
    store: stores( 'workspaceUserConfig', { workspaceId: globals.workspaceId, userId: globals.userId } ),
    recordId: globals.userId,

  });


 // return WorkspaceUserConfigTabContainer;
});


