
define([
  "dojo/_base/declare",
  "dojo/query",

  'dijit/layout/ContentPane',

  "hotplate/hotDojoStores/stores",
  "hotplate/hotDojoGlobals/globals",
  "hotplate/hotDojoJade/DestroyableJadeTemplatedContainer",

  "dgrid/OnDemandList",


   ], function(
     declare
     , query

     , ContentPane

     , stores
     , globals
     , DestroyableJadeTemplatedContainer

     , OnDemandList

 ){


  var Contacts = declare('hotplate/bd/Contacts', [ DestroyableJadeTemplatedContainer ], {

    templateString: '' +
    'div\n'+
    '  div(data-dojo-attach-point="dijit/layout/ContentPane" )\n' +
    '    div(data-dojo-attach-point="list")\n' +
    '',

    postCreate: function(){
      this.inherited(arguments);

      this.listWidget = new OnDemandList( {
        // store: stores('options', { workspaceId: globals.workspaceId } ),
        // renderRow: function(item, options){
        //  return domConstruct.create('div', { innerHTML:JSON.stringify(item), } );
        // },

      }, this.list);

      this.listWidget.on('.dgrid-row:click', function( e ) {
        console.log("Clicked!");
        console.log( e );
        console.log( this );
        console.log( list.row( this ) );
      });

    },

    startup: function(){
      // this.listWidget.startup();
    },

  });

 return Contacts;
});


