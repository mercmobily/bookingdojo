
define( [

  "dojo/_base/declare"
, "dojo/query"

, "dijit/layout/ContentPane"

, "hotplate/hotDojoStores/stores"
, "hotplate/hotDojoGlobals/globals"
, "hotplate/hotDojoWidgets/widgets"

, "dgrid/OnDemandList"


], function(

  declare
, query

, ContentPane

, stores
, globals
, widgets

, OnDemandList

){


  var Contacts = declare( [ widgets.DestroyableTemplatedContainer ], {

    templateString: '' +
    '<div>\n'+
    '  <div data-dojo-type="dijit/layout/ContentPane">\n' +
    '    <div data-dojo-attach-point="list"></div>\n' +
		'  </div>\n' + 
    '</div>\n' + 
    '',

    postCreate: function(){
      this.inherited(arguments);

      this.listWidget = new OnDemandList( {
        // store: stores('options', { workspaceId: globals.workspaceId } ),
        // renderRow: function(item, options){
        //  return domConstruct.create('div', { innerHTML:JSON.stringify(item), } );
        // },

      }, this.list);

      this.listWidget.on('.dgrid-row:click', function( e ) {
        console.log("Clicked!");
        console.log( e );
        console.log( this );
        console.log( list.row( this ) );
      });

    },

    startup: function(){
      // this.listWidget.startup();
    },

  });

  return Contacts;
});


