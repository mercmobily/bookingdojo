
define([
  "dojo/_base/declare"

, "hotplate/hotDojoWidgets/widgets"

, "hotplate/bd/WorkspacesContacts/WorkspacesContactsInfo"
, "hotplate/bd/WorkspacesContacts/WorkspacesContactsEmails"

], function(
  declare

, widgets

, WorkspacesContactsInfo
, WorkspacesContactsEmails

){

  return declare( [ widgets.DestroyableTemplatedContainer ], {

    templateString: '' +
      '<div>\n' +
      '  <div data-dojo-attach-point="workspacesContactsInfoWidget" data-dojo-type="hotplate/bd/WorkspacesContacts/WorkspacesContactsInfo" data-dojo-props="recordId: \'${recordId}\'"></div>\n'+
      '  <div class="small-editable-list" data-dojo-attach-point="workspacesContactsEmailsNode"></div>\n'+
      '</div>\n' +
      '',
    postCreate: function(){
      this.inherited(arguments);

      // Logic to add stuff to the form will go here
      var self = this;

      if( self.workspacesContactsInfoWidget.recordId ){
        self.workspacesContactsEmailsWidget = new WorkspacesContactsEmails( { contactId: self.workspacesContactsInfoWidget.recordId }, self.workspacesContactsEmailsNode );


      }

    }

  });

});

/*
define([
  "dojo/_base/declare"

, "hotplate/hotDojoWidgets/widgets"

, "hotplate/bd/WorkspacesContacts/WorkspacesContactsInfo"

], function(
  declare

, widgets

, WorkspacesContactsInfo
){

  return declare( [ widgets.DestroyableTemplatedContainer ], {

    templateString: '' +   
      '<div>\n' +
      '  <div data-dojo-attach-point="workspacesContactsInfoNode"></div>\n'+
      '  <div class="small-editable-list" data-dojo-attach-point="workspaceContactsEmailsNode"></div>\n'+
      '</div>\n' +
      '',
    postCreate: function(){
      this.inherited(arguments);
      var self = this;

      self.workspacesContactsInfoWidget = new WorkspacesContactsInfo({
        store: self.store,
        storeName: self.storeName,
        recordId: self.recordId
      }, self.workspacesContactsInfoNode );

      self.workspacesContactsInfoWidget.on( 'successfulsubmit', function( e ) {
        console.log("FROM HERE, SUCCESSFUL SUBMIT!");
      });

    },

    startup: function(){
      this.inherited(arguments);
      var self = this;

      self.workspacesContactsInfoWidget.startup();

    },

  });

}); 
*/
