
define( [
  "dojo/_base/declare"

, "dijit/form/Form"
, "dijit/form/ValidationTextBox"
, "hotplate/hotDojoWidgets/BusyButton"

, "put-selector/put"

, "hotplate/hotDojoWidgets/EditingWidget"
, "hotplate/hotDojoStores/stores"
, "hotplate/hotDojoGlobals/globals"

//, "hotplate/bd/UsersConfig/UsersCategoriesSelect"

], function(

  declare

, Form
, ValidationTextBox
, BusyButton

, put

, EditingWidget
, stores
, globals

//, UsersCategoriesSelect

){


  return declare( [ EditingWidget ], {

    widgetsInTemplate: true,

    templateString: '' +
      '<div>\n' +
      '  <form data-dojo-type="dijit/form/Form" data-dojo-attach-point="formWidget" method="POST">\n' +

      '    <div class="box">\n'+
      '      <p class="boxTitle">User information<p>\n' +

      '      <div class="inputField" style="display:inline-block; margin-right:30px">\n' +
      '        <label for="${id}_name">Your name</label>\n' +
      '        <input id="${id}_name" name="name" data-dojo-type="dijit/form/ValidationTextBox" style="width:10em;" maxlength="40" />\n' + 
      '      </div>\n' +
      '      <div class="inputField" style="display:inline-block;">\n' +
      '        <label for="${id}_surname">Last Name</label>\n' +
      '        <input id="${id}_surname" name="surname" data-dojo-type="dijit/form/ValidationTextBox" style="width:40em" maxlength="40" />\n' +
      '      </div>\n' +

      '      <div class="inputField">\n' +
      '        <label for="${id}_email">Email</label>\n' +
      '        <input id="${id}_email" name="email" data-dojo-type="dijit/form/ValidationTextBox" style="width:30em" maxlength="80" name="email", data-dojo-props="validator:sharedFunctions.hotCoreCommonValidators.emailValidator, required:true, invalidMessage:sharedFunctions.hotCoreCommonValidators.emailValidator(false)" />\n' +
      '      </div>\n' +

//      '      <div name="userCategory" data-dojo-type="hotplate/bd/UsersConfig/UsersCategoriesSelect"></div>\n'+

      '    <input class="formSubmit" type="submit" data-dojo-attach-point="buttonWidget" data-dojo-type="hotplate/hotDojoWidgets/BusyButton" label="Update" />\n' +
      '  </form>\n' +
      '</div>\n' +
      '',

    recordId: globals.userId,
    store: stores( 'UsersInfo', {} ),
    storeName: 'UsersInfo',

  });
});


