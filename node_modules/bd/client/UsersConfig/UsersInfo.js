/*
INPUT:
* userId 
DESCRIPTION
A widget that will allow manipulation of the `usersInfo` table, which extends 1:1 Hotplate's `users`. 
*/
define( [
  "dojo/_base/declare"

, "dijit/form/Form"
, "hotplate/hotClientDojo/widgets/SharedValidationTextBox"
, "hotplate/hotClientDojo/widgets/BusyButton"

, "put-selector/put"

, "hotplate/hotClientDojo/widgets/EditingWidget"

], function(

  declare

, Form
, SharedValidationTextBox
, BusyButton

, put

, EditingWidget

){


  return declare( [ EditingWidget ], {

    widgetsInTemplate: true,

    templateString: '' +
      '<div class="users-info">\n' +
      '  <form data-dojo-type="dijit/form/Form" data-dojo-attach-point="formWidget" method="POST">\n' +

      '    <div class="box">\n'+
      '      <p class="boxTitle">User information<p>\n' +

      '      <div class="inputField">\n' +
      '        <label for="${id}_email">Email</label>\n' +
      '        <input id="${id}_email" name="email" data-dojo-type="hotplate/hotClientDojo/widgets/SharedValidationTextBox" size="40" maxlength="80" name="email", data-dojo-props="sharedValidator:\'email\', required:true" />\n' +
      '      </div>\n' +

      '    <input class="formSubmit" type="submit" data-dojo-attach-point="buttonWidget" data-dojo-type="hotplate/hotClientDojo/widgets/BusyButton" label="Update" />\n' +
      '  </form>\n' +
      '</div>\n' +
      '',

    storeName: 'usersInfo',

    postMixInProperties: function(){
      this.inherited(arguments);

      this.storeParameters = {};
      this.recordId = this.userId;
    },

  });
});


