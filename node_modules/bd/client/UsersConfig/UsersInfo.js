
define( [
  "dojo/_base/declare"

, "dijit/form/Form"
, "dijit/form/ValidationTextBox"
, "hotplate/hotClientDojo/widgets/BusyButton"

, "put-selector/put"

, "hotplate/hotClientDojo/widgets/EditingWidget"
, "hotplate/hotClientDojo/stores/stores"
, "hotplate/hotClientDojo/globals/globals"

], function(

  declare

, Form
, ValidationTextBox
, BusyButton

, put

, EditingWidget
, stores
, globals

){


  return declare( [ EditingWidget ], {

    widgetsInTemplate: true,

    templateString: '' +
      '<div class="users-info">\n' +
      '  <form data-dojo-type="dijit/form/Form" data-dojo-attach-point="formWidget" method="POST">\n' +

      '    <div class="box">\n'+
      '      <p class="boxTitle">User information<p>\n' +

      '      <div class="inputField">\n' +
      '        <label for="${id}_email">Email</label>\n' +
      '        <input id="${id}_email" name="email" data-dojo-type="dijit/form/ValidationTextBox" size="40" maxlength="80" name="email", data-dojo-props="validator:sharedValidators.email, required:true, invalidMessage:sharedValidators.email(false)" />\n' +
      '      </div>\n' +

      '    <input class="formSubmit" type="submit" data-dojo-attach-point="buttonWidget" data-dojo-type="hotplate/hotClientDojo/widgets/BusyButton" label="Update" />\n' +
      '  </form>\n' +
      '</div>\n' +
      '',

    storeName: 'usersInfo',

    postMixInProperties: function(){
      this.inherited(arguments);

      this.storeParameters = {};
      this.recordId = this.userId;
    },

  });
});


