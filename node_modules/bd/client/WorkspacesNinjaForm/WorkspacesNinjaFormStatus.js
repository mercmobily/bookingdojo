
define([
  "dojo/_base/declare"

, "hotplate/hotDojoWidgets/StoreRecordViewWidget"
, "hotplate/hotDojoStores/stores"
, "hotplate/hotDojoGlobals/globals"

], function(
  declare

, StoreRecordViewWidget
, stores
, globals

){
  return declare( [ StoreRecordViewWidget ], {

    templateString: '' +
      '<div>\n' +
      '  <p>Status: <span data-dojo-attach-point="current">Loading...</span></p>\n' +
      '</div>\n' +
      '',

    storeName: 'workspacesNinjaFormStatus',
    storeParameters: {},
    recordId: globals.workspaceId,

    postCreate: function(){
      this.inherited(arguments);

      var self = this;
    },

    // Data is refreshed: update the form with the new info
    refreshData: function( data ){
      this.inherited(arguments);

      this.current.innerHTML = data.current ? data.current : 'No value';

    },

  });

});
