
define([
  "dojo/_base/declare"
, "dojo/aspect"
, "dojo/topic"

, "dijit/form/ValidationTextBox"
, "dijit/form/CheckBox"
, "dijit/_WidgetBase"
, "dijit/Destroyable"

, "put-selector/put"

, "hotplate/hotDojoDgridWidgets/commonMixins"
, "hotplate/hotDojoWidgets/widgets"
, "hotplate/hotDojoWidgets/TempDialog"
, "hotplate/hotDojoWidgets/EditingWidget"
, "hotplate/hotDojoDgridWidgets/EditableList"
, "hotplate/hotDojoWidgets/BusyButton"
, "hotplate/hotDojoStores/stores"
, "hotplate/hotDojoWidgets/StoreToggle"
, "hotplate/hotDojoGlobals/globals"

, "hotplate/bd/WorkspacesContacts"

], function(
  declare
, aspect
, topic

, ValidationTextBox
, CheckBox
, _WidgetBase
, Destroyable

, put

, commonMixins
, widgets
, TempDialog
, EditingWidget
, EditableList
, BusyButton
, stores
, StoreToggle
, globals

, WorkspacesContacts
){


  return declare( [ commonMixins.FullOnDemandList, Destroyable ], {

      store: stores( 'workspacesNinjaFormLogs', { workspaceId: globals.workspaceId } ),

      sort: [ "date" ],

      //queryOptions: { placeNew: 'first' },

      renderRow: function(object, options){
      
        var self = this;
 
        var date, subsystem, submitLabel;

        var row = put( 'div.log-row' );

        put( row, 'span.date',  (new Date( object.remoteDate ) ).toString() );
        put( row, 'span.subsystem',   object.subsystem );
        put( row, 'span.tab-id',   object.tabId );
        put( row, 'span.submitLabel', '[' + object.submitLabel + ']' );
        put( row, 'span.line', object.line );

        return row;
      },
      //dndParams: { selfAccept: false },

      postCreate: function(){
        this.inherited(arguments);
        var self = this;

      },


    });


});


