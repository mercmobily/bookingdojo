


require( [ 
  "hotplate/bd/BookingDojo", 
  'dijit/registry', 
  'dojo/topic', 
  'dojo/ready',

  'hotplate/hotDojoWidgetHooks/SyncTopic',
  "hotplate/hotDojoWidgetHooks/SyncSubscriber!hotplate/hotDojoWidgetHooks/startup/after/appContainer|bdMain",

  ], function( 
   BookingDojo,
   registry, 
   topic,
   ready,

   Sync,
   dummy
    ){

  // Create the new BookingDojo application
  bookingDojo = new BookingDojo( { id: 'bookingDojo', region: 'center'  } );


  // setTimeout( function() {  

  // Once appContainer has started, add a widget to it
  topic.subscribe('hotplate/hotDojoWidgetHooks/startup/after/appContainer', function( widget ){
    widget.addChild( bookingDojo );
  });

  Sync.ready('hotplate/hotDojoWidgetHooks/startup/after/appContainer');

  // }, 2000 );

});

