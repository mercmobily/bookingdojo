
define( [
  "dojo/_base/declare"

, "dijit/form/Form"
, "dijit/form/ValidationTextBox"
, "hotplate/hotDojoWidgets/BusyButton"

, "hotplate/hotDojoWidgets/EditingWidget"
, "hotplate/hotDojoStores/stores"
, "hotplate/hotDojoGlobals/globals"
, "hotplate/hotDojoJade/_JadeTemplatedMixin"

], function(

  declare

, Form
, ValidationTextBox
, BusyButton

, EditingWidget
, stores
, globals
, _JadeTemplatedMixin

){

  return declare( [ _JadeTemplatedMixin, EditingWidget ], {

    templateString: '' +
    'div\n'+
    '  form( data-dojo-type="dijit/form/Form", data-dojo-attach-point="formWidget", method="POST")\n'+
    '    .box\n'+
    '      p.boxTitle User Information\n'+
    '      .inputField\n'+
    '        label( for="${id}_localEmail") Email\n'+
    '        input(  id="${id}_localEmail", name="localEmail", data-dojo-type="dijit/form/ValidationTextBox", style="width:40em", maxlength="80", data-dojo-props="validator:sharedFunctions.hotCoreCommonValidators.emailValidator, required:true, invalidMessage:sharedFunctions.hotCoreCommonValidators.emailValidator(false)")\n'+
    '      input.formSubmit( type="submit", data-dojo-attach-point="buttonWidget", data-dojo-type="hotplate/hotDojoWidgets/BusyButton", label="Update")\n'+
    '',

    storeName: 'WorkspacesUsersConfig',
    store: stores( 'WorkspacesUsersConfig', { workspaceId: globals.workspaceId } ),
    recordId: globals.userId,

  });
});

