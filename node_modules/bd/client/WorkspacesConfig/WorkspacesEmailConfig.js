
define([

  "dojo/_base/declare"

, "dijit/form/Form"
, "dijit/form/ValidationTextBox"
, "dijit/form/NumberTextBox"
, "dijit/_WidgetBase"

, "hotplate/hotDojoStores/stores"
, "hotplate/hotDojoWidgets/BusyButton"
, "hotplate/hotDojoWidgets/EditingWidget"
, "hotplate/hotDojoWidgets/Dummy"
, "hotplate/hotDojoGlobals/globals"
, "hotplate/bd/WorkspacesConfig/StatsUsesSelect"

], function(

  declare

, Form
, ValidationTextBox
, NumberTextBox
, _WidgetBase

, stores
, BusyButton
, EditingWidget
, Dummy
, globals
, StatsUsesSelect

){

  return declare( [ EditingWidget ], {

    templateString: '' +
    '<div class="workspaces-info">\n' +
    '  <div data-dojo-type="hotplate/hotDojoWidgets/Dummy"></div>\n' +
    '  <form data-dojo-type="dijit/form/Form" data-dojo-attach-point="formWidget" method="POST">\n' +

    '      <span class="config-heading">General email settings</span>\n' +

    '      <div class="inputField">\n' +
    '        <label for="${id}_systemName">Name for automatic emails</label>\n' +
    '        <input id="${id}_systemName" name="systemName" data-dojo-type="dijit/form/ValidationTextBox" size="30" maxlength="70" data-dojo-props="required:false" />\n' +
    '      </div>\n' +

    '      <div class="inputField">\n' +
    '        <label for="${id}_systemEmail">From email address</label>\n' +
    '        <input id="${id}_systemEmail" name="systemEmail" data-dojo-type="dijit/form/ValidationTextBox" size="40" maxlength="255" data-dojo-props="required:false" />\n' +
    '      </div>\n' +

    '      <span class="config-heading">SMTP (sending emails)</span>\n' +
    
    '      <div class="inputField">\n' +
    '        <label for="${id}_smtpServer">SMTP server</label>\n' +
    '        <input id="${id}_smtpServer" name="smtpServer" data-dojo-type="dijit/form/ValidationTextBox" size="40" maxlength="255" data-dojo-props="required:false" />\n' +
    '      </div>\n' +

    '      <div class="inputField">\n' +
    '        <label for="${id}_smtpPort">SMTP server port</label>\n' +
    '        <input id="${id}_smtpPort" name="smtpPort" data-dojo-type="dijit/form/NumberTextBox" size="40" maxlength="255" data-dojo-props="required:true" />\n' +
    '      </div>\n' +

    '      <div class="inputField">\n' +
    '        <label for="${id}_smtpLogin">Login for SMTP server</label>\n' +
    '        <input id="${id}_smtpLogin" name="smtpLogin" data-dojo-type="dijit/form/ValidationTextBox" size="40" maxlength="255" data-dojo-props="required:false" />\n' +
    '      </div>\n' +
    
    '      <div class="inputField">\n' +
    '        <label for="${id}_smtpPassword">Password for SMTP server</label>\n' +
    '        <input id="${id}_smtpPassword" name="smtpPassword" data-dojo-type="dijit/form/ValidationTextBox" size="40" maxlength="255" data-dojo-props="required:false" />\n' +
    '      </div>\n' +

    '      <span class="config-heading">IMAP (sending emails)</span>\n' +

    '      <div class="inputField">\n' +
    '        <label for="${id}_imapServer">IMAP server</label>\n' +
    '        <input id="${id}_imapServer" name="imapServer" data-dojo-type="dijit/form/ValidationTextBox" size="40" maxlength="255" data-dojo-props="required:false" />\n' +
    '      </div>\n' +

    '      <div class="inputField">\n' +
    '        <label for="${id}_imapPort">IMAP server port</label>\n' +
    '        <input id="${id}_imapPort" name="imapPort" data-dojo-type="dijit/form/NumberTextBox" size="40" maxlength="255" data-dojo-props="required:true" />\n' +
    '      </div>\n' +

    '      <div class="inputField">\n' +
    '        <label for="${id}_imapLogin">Login for IMAP server</label>\n' +
    '        <input id="${id}_imapLogin" name="imapLogin" data-dojo-type="dijit/form/ValidationTextBox" size="40" maxlength="255" data-dojo-props="required:false" />\n' +
    '      </div>\n' +
    
    '      <div class="inputField">\n' +
    '        <label for="${id}_imapPassword">Password for IMAP server</label>\n' +
    '        <input id="${id}_imapPassword" name="imapPassword" data-dojo-type="dijit/form/ValidationTextBox" size="40" maxlength="255" data-dojo-props="required:false" />\n' +
    '      </div>\n' +

    '      <div class="inputField">\n' +
    '        <label for="${id}_imapPollInterval">Poll interval</label>\n' +
    '        <input id="${id}_imapPollInterval" name="imapPollInterval" data-dojo-type="dijit/form/NumberTextBox" size="5" maxlength="5" data-dojo-props="required:true, constraints: { min: 60, max: 3000 }" />\n' +
    '      </div>\n' +

    '      <input class="formSubmit" type="submit" data-dojo-attach-point="buttonWidget" data-dojo-type="hotplate/hotDojoWidgets/BusyButton" label="Update" />' +


    '  </form>\n' +
    '</div>\n' +
    '',

    storeName: 'workspacesEmailConfig',
    storeParameters: {},
    recordId: globals.workspaceId,
  });

});
