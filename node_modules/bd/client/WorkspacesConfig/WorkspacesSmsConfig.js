/*
INPUT:
* workspaceId 
DESCRIPTION
An editing widget that will change the SMS configuration options for a workspace (`workspacesSmsConfig`). Here, the user will pick for example which phone number the workspace will use
*/
define([

  "dojo/_base/declare"

, "dijit/form/Form"

, "hotplate/hotClientDojo/widgets/BusyButton"
, "hotplate/hotClientDojo/widgets/EditingWidget"
, "hotplate/hotClientDojo/widgets/Dummy"

, "hotplate/bd/WorkspacesConfig/WorkspacesPhoneNumberSelect"

], function(

  declare

, Form

, BusyButton
, EditingWidget
, Dummy

, WorkspacesPhoneNumberSelect

){

  return declare( [ EditingWidget ], {

    templateString: '' +
    '<div class="workspaces-info">\n' +
    '  <div data-dojo-type="hotplate/hotClientDojo/widgets/Dummy"></div>\n' +
    '  <form data-dojo-type="dijit/form/Form" data-dojo-attach-point="formWidget" method="POST">\n' +
    
    '      <div class="inputField">\n' +
    '        <label for="${id}_phoneNumber">Phone number</label>\n' +
    '        <div class="workspaces-sms" name="phoneNumberId" data-dojo-type="hotplate/bd/WorkspacesConfig/WorkspacesPhoneNumberSelect" data-dojo-props="workspaceId: this.workspaceId"></div>\n'+
    '      </div>\n' +

    '      <input class="formSubmit" type="submit" data-dojo-attach-point="buttonWidget" data-dojo-type="hotplate/hotClientDojo/widgets/BusyButton" label="Update" />' +


    '  </form>\n' +
    '</div>\n' +
    '',

    postMixInProperties: function(){
      this.inherited(arguments);

      this.recordId = this.workspaceId;
    },

    storeName: 'workspacesSmsConfig',
    storeParameters: {},
  });

});
