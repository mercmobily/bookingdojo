
define( [
  "dojo/_base/declare"

, "dijit/form/Form"
, "dijit/form/ValidationTextBox"
, "hotplate/hotDojoWidgets/BusyButton"

, "hotplate/hotDojoWidgets/EditingWidget"
, "hotplate/hotDojoStores/stores"
, "hotplate/hotDojoGlobals/globals"

, "hotplate/bd/WorkspacesUsersConfig/WorkspacesUsersCategoriesSelect"

], function(

  declare

, Form
, ValidationTextBox
, BusyButton

, EditingWidget
, stores
, globals

, WorkspacesUsersCategoriesSelect
){

  return declare( [ EditingWidget ], {

    templateString: '' +
    '<div class="workspaces-users-info">\n'+
    '  <form data-dojo-type="dijit/form/Form" data-dojo-attach-point="formWidget" method="POST">\n'+
    '    <div class="box">\n'+
    '      <p class="boxTitle">Your Information</p>\n'+
    '      <div class="inputField">\n'+
    '        <label for="${id}_localEmail">Email</label>\n'+
    '        <input id="${id}_localEmail" name="localEmail" data-dojo-type="dijit/form/ValidationTextBox" size="40" maxlength="80" data-dojo-props="validator:sharedFunctions.hotCoreCommonValidators.emailValidator, required:true, invalidMessage:sharedFunctions.hotCoreCommonValidators.emailValidator(false)" />\n'+
    '      </div>\n' +
    '      <div class="category-picker" name="userCategory" data-dojo-type="hotplate/bd/WorkspacesUsersConfig/WorkspacesUsersCategoriesSelect"></div>\n'+

    '      <input class="formSubmit" type="submit" data-dojo-attach-point="buttonWidget" data-dojo-type="hotplate/hotDojoWidgets/BusyButton" label="Update" />\n'+
    '    </div>\n' +
    '  </form>\n' +
    '</div>\n' +
    '',

    storeName: 'workspacesUsersInfo',
    storeParameters: { workspaceId: globals.workspaceId },
    recordId: globals.userId,
  });
});


